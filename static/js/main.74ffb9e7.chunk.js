(this["webpackJsonpimage-gallery"]=this["webpackJsonpimage-gallery"]||[]).push([[0],{17:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},73:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(7),l=n.n(s),r=(n(39),n(6)),i=n.n(r),o=n(9),u=n(5),j=(n(41),n(2)),d=function(e){e.name;var t=e.src,n=e.alt,a=e.className,s=e.handleImageClick;return Object(j.jsx)(c.Fragment,{children:Object(j.jsx)("figure",{className:"img",children:Object(j.jsx)("img",{src:t,alt:n,className:a,onClick:s})})})},b=(n(17),function(e){var t=e.img,n=e.image_alt,a=e.img_name,s=e.album,l=e.checkname,r=e.checkedValue,i=Object(c.useState)(!1),o=Object(u.a)(i,2),b=o[0],m=o[1];return Object(j.jsx)(c.Fragment,{children:Object(j.jsxs)("div",{className:"my-card",style:{overflow:"hidden"},children:[Object(j.jsx)(d,{src:t,alt:n,className:"card-img-top",handleImageClick:function(){return m(!b)},checked:!!b}),Object(j.jsx)("h5",{className:"card-title text-center",children:a}),Object(j.jsx)("p",{className:"card-text text-center",children:s}),Object(j.jsx)("input",{type:"checkbox",className:"card-checkbox",name:l,checked:!!b,style:{opacity:b?"1":"0"},value:r})]})})}),m=function(e){var t=e.title,n=e.icon,c=e.setIsOpen,a=e.children;return Object(j.jsxs)("div",{className:"modal-card bg-light py-3",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(j.jsx)("h5",{children:t}),Object(j.jsx)("div",{onClick:function(){return c(!1)},children:n})]}),a]})},p=(n(43),n(12)),h=n(11),O=function(e){e.isOpen;var t=e.setIsOpen,n=e.photos;return Object(j.jsxs)("header",{className:"d-flex justify-content-between mt-3",children:[Object(j.jsx)("h2",{className:"col-md",children:"Photos"}),Object(j.jsxs)("div",{className:"d-flex justify-content-around align-items-center",children:[Object(j.jsxs)("button",{className:"btn btn-danger outline-none",children:[Object(j.jsx)(h.b,{}),"\xa0Delete"]}),Object(j.jsxs)("button",{className:"btn btn-default outline-none",onClick:function(){return t(!0)},children:[Object(j.jsx)(p.a,{}),"\xa0Upload"]}),Object(j.jsx)("span",{children:" | "}),Object(j.jsx)("span",{children:Object(j.jsx)("select",{className:"form-control header-select",style:{border:"none",outline:"none"},children:Object(j.jsx)("option",{selected:!0,children:n.length})})})]})]})},x=n(31),f=n.n(x),g=n(8),v=n.n(g),N=n(10),y=n(34),k=function(e){var t=e.getFiles,n=Object(y.a)(),c=n.getRootProps,a=n.getInputProps,s=n.acceptedFiles,l=n.isDragActive,r=s.map((function(e){return Object(j.jsxs)("li",{className:"list-group-item",children:[e.path," - ",e.size," bytes"]},e.path)}));return t(s),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:l?"drag-container-active p-3 mt-2 text-center":"drag-container p-3 mt-2 text-center",children:Object(j.jsx)("small",{className:"mx-auto text-center",children:Object(j.jsxs)("div",Object(N.a)(Object(N.a)({},c()),{},{children:[Object(j.jsx)("input",Object(N.a)(Object(N.a)({},a()),{},{name:"documents"})),l?Object(j.jsx)("p",{children:"Drop the files here ..."}):Object(j.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}),Object(j.jsx)("div",{className:"selected-container d-flex justify-content-center align-items-center",children:Object(j.jsx)("ul",{className:"list-group",children:r.length>0?r:Object(j.jsx)("p",{children:"No file Selected Yet..."})})})]})},w=n(33),S=(n(73),n.p,n.p+"static/media/spinner-icon.011aaec0.gif"),F=function(){var e=[{value:"",label:"Select Album"},{value:"food",label:"Food"},{value:"nature",label:"Nature"},{value:"travel",label:"Travel"},{value:"personal",label:"Personal"},{value:"other",label:"other"}],t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(null),r=Object(u.a)(l,2),d=r[0],b=r[1],m=Object(c.useState)(null),h=Object(u.a)(m,2),O=h[0],x=h[1],f=Object(c.useState)(null),g=Object(u.a)(f,2),N=g[0],y=g[1],F=Object(c.useState)(!1),I=Object(u.a)(F,2),C=I[0],D=I[1],P=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D(!0),setTimeout((function(){a.forEach(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new FormData,null===d&&x("please Select an Album"),n.append("documents",t),n.append("album",d),c={headers:{"content-type":"multipart/form-data"}},e.next=8,v.a.put("/photos",n,c);case 8:return a=e.sent,e.next=11,y("OK"===a.data.message?"File Uploaded SuccessFully":null);case 11:setTimeout((function(){y(null)}),5e3),D(!1),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.response.data),x(e.t0.response.data.message),setTimeout((function(){x(null)}),5e3),D(!1);case 21:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}())}),3e3)},encType:"multipart/form-data",children:[O&&Object(j.jsx)("div",{className:"alert alert-danger alerts",children:O}),N&&Object(j.jsx)("div",{className:"alert alert-success alerts",children:N}),Object(j.jsx)(k,{getFiles:P}),Object(j.jsxs)("div",{className:"d-flex align-items-center justify-content-between",style:{marginTop:"100px"},children:[Object(j.jsx)("div",{style:{width:"180px"},children:Object(j.jsx)(w.a,{className:"basic-single text-dark",classNamePrefix:"select",defaultValue:e[0],name:"album",options:e,onChange:function(e){b(e.value)}})}),Object(j.jsx)("div",{children:Object(j.jsxs)("button",{className:"btn btn-default",type:"submit",disabled:a.length<1,children:[Object(j.jsx)(p.a,{}),"\xa0",C?"Uploading...":"Upload"," \xa0",C&&Object(j.jsx)("span",{children:Object(j.jsx)("img",{src:S,width:"50",style:{opacity:".7"}})})]})})]})]})},I={overlay:{position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{position:"absolute",background:"transparent",overflow:"auto",WebkitOverflowScrolling:"touch",outline:"none",border:"none"}};var C=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),l=Object(u.a)(s,2),r=l[0],d=l[1],p=Object(c.useState)([]),x=Object(u.a)(p,2),g=(x[0],x[1],{skip:0,limit:16}),N=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/photos/list",g);case 3:t=e.sent,console.log(t.data.documents),d(t.data.documents),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){N()}),[]),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(O,{isOpen:n,setIsOpen:a,photos:r}),Object(j.jsx)("div",{className:"row mb-4 mx-auto",children:r.map((function(e,t){return Object(j.jsx)("div",{className:"col-md-3 col-sm-12 mb-4",children:Object(j.jsx)(b,{img:e.raw,album:e.album,img_name:e.name.split("/")[2],image_alt:"kings",checkname:e.id,checkedValue:e.id})},t)}))}),n?Object(j.jsx)(f.a,{isOpen:n,style:I,children:Object(j.jsx)(m,{title:"Upload Photos",icon:Object(j.jsx)(h.a,{size:20}),setIsOpen:a,children:Object(j.jsx)(F,{})})}):null]})};n(86);v.a.defaults.baseURL="https://9a1413fa27d3.ngrok.io/",l.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.74ffb9e7.chunk.js.map