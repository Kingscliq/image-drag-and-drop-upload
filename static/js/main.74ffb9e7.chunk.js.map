{"version":3,"sources":["components/image/index.js","components/card/index.js","components/header/index.js","components/dropzone/index.js","assets/spinner-icon.gif","assets/eze1.jpg","upload-modal/index.js","App.js","index.js"],"names":["Image","name","src","alt","className","handleImageClick","onClick","Card","img","image_alt","img_name","album","checkname","checkedValue","useState","selected","setSelected","style","overflow","checked","type","opacity","value","ModalCard","title","icon","setIsOpen","children","Header","isOpen","photos","border","outline","length","ImageDropZone","getFiles","useDropzone","getRootProps","getInputProps","acceptedFiles","isDragActive","files","map","file","path","size","UploadModal","albums","label","setFiles","selectedAlbum","setSelectedAlbum","error","setError","success","setSucess","loading","setLoading","a","onSubmit","e","preventDefault","setTimeout","forEach","formData","FormData","append","config","headers","axios","put","res","data","message","console","log","response","encType","marginTop","width","classNamePrefix","defaultValue","options","onChange","obj","disabled","loader","modalStyles","overlay","position","backgroundColor","content","background","WebkitOverflowScrolling","App","setPhotos","skip","limit","fetchPhotos","post","documents","useEffect","photo","index","raw","split","id","defaults","baseURL","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74ffb9e7.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport \"./image.css\";\r\n\r\nconst Image = ({ name, src, alt, className, handleImageClick }) => {\r\n  return (\r\n    <Fragment>\r\n      <figure className=\"img\">\r\n        <img\r\n          src={src}\r\n          alt={alt}\r\n          className={className}\r\n          onClick={handleImageClick}\r\n        />\r\n      </figure>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","import React, { Fragment, useState } from \"react\";\r\n// import { FaArrowDown } from \"react-icons/fa\";\r\nimport Image from \"../image\";\r\nimport \"./card.css\";\r\n\r\nexport const Card = ({\r\n  img,\r\n  image_alt,\r\n  img_name,\r\n  album,\r\n  checkname,\r\n  checkedValue,\r\n}) => {\r\n  const [selected, setSelected] = useState(false);\r\n  return (\r\n    <Fragment>\r\n      <div className=\"my-card\" style={{ overflow: \"hidden\" }}>\r\n        <Image\r\n          src={img}\r\n          alt={image_alt}\r\n          className=\"card-img-top\"\r\n          handleImageClick={() => setSelected(!selected)}\r\n          checked={selected ? true : false}\r\n        />\r\n        <h5 className=\"card-title text-center\">{img_name}</h5>\r\n        <p className=\"card-text text-center\">{album}</p>\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"card-checkbox\"\r\n          name={checkname}\r\n          checked={selected ? true : false}\r\n          style={{ opacity: selected ? \"1\" : \"0\" }}\r\n          value={checkedValue}\r\n        />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport const ModalCard = ({ title, icon, setIsOpen, children }) => {\r\n  return (\r\n    <div className=\"modal-card bg-light py-3\">\r\n      <div className=\"d-flex align-items-center justify-content-between\">\r\n        <h5>{title}</h5>\r\n        <div onClick={() => setIsOpen(false)}>{icon}</div>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./header.css\";\r\nimport { VscCloudUpload } from \"react-icons/vsc\";\r\nimport { FaTrashAlt } from \"react-icons/fa\";\r\n\r\nconst Header = ({ isOpen, setIsOpen, photos }) => {\r\n  return (\r\n    <header className=\"d-flex justify-content-between mt-3\">\r\n      <h2 className=\"col-md\">Photos</h2>\r\n      <div className=\"d-flex justify-content-around align-items-center\">\r\n        <button className=\"btn btn-danger outline-none\">\r\n          <FaTrashAlt />\r\n          &nbsp;Delete\r\n        </button>\r\n        <button\r\n          className=\"btn btn-default outline-none\"\r\n          onClick={() => setIsOpen(true)}\r\n        >\r\n          <VscCloudUpload />\r\n          &nbsp;Upload\r\n        </button>\r\n        <span> | </span>\r\n        <span>\r\n          <select\r\n            className=\"form-control header-select\"\r\n            style={{ border: \"none\", outline: \"none\" }}\r\n          >\r\n            <option selected>{photos.length}</option>\r\n          </select>\r\n        </span>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\n\r\nconst ImageDropZone = ({ getFiles }) => {\r\n  const { getRootProps, getInputProps, acceptedFiles, isDragActive } =\r\n    useDropzone();\r\n  const files = acceptedFiles.map((file) => (\r\n    <li key={file.path} className=\"list-group-item\">\r\n      {file.path} - {file.size} bytes\r\n    </li>\r\n  ));\r\n  // Send file value to parent component\r\n  getFiles(acceptedFiles);\r\n  return (\r\n    <>\r\n      <div\r\n        className={\r\n          isDragActive\r\n            ? `drag-container-active p-3 mt-2 text-center`\r\n            : `drag-container p-3 mt-2 text-center`\r\n        }\r\n      >\r\n        <small className=\"mx-auto text-center\">\r\n          <div {...getRootProps()}>\r\n            <input {...getInputProps()} name=\"documents\" />\r\n            {isDragActive ? (\r\n              <p>Drop the files here ...</p>\r\n            ) : (\r\n              <p>Drag 'n' drop some files here, or click to select files</p>\r\n            )}\r\n          </div>\r\n        </small>\r\n      </div>\r\n      <div className=\"selected-container d-flex justify-content-center align-items-center\">\r\n        <ul className=\"list-group\">\r\n          {files.length > 0 ? files : <p>No file Selected Yet...</p>}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageDropZone;\r\n","export default __webpack_public_path__ + \"static/media/spinner-icon.011aaec0.gif\";","export default __webpack_public_path__ + \"static/media/eze1.7baf64ab.jpg\";","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ImageDropZone from \"../components/dropzone\";\r\nimport { VscCloudUpload } from \"react-icons/vsc\";\r\nimport \"../components/card/card.css\";\r\nimport Select from \"react-select\";\r\nimport \"./upload-modal.css\";\r\nimport { loader } from \"../assets\";\r\n\r\nconst UploadModal = () => {\r\n  const albums = [\r\n    { value: \"\", label: \"Select Album\" },\r\n    { value: \"food\", label: \"Food\" },\r\n    { value: \"nature\", label: \"Nature\" },\r\n    { value: \"travel\", label: \"Travel\" },\r\n    { value: \"personal\", label: \"Personal\" },\r\n    { value: \"other\", label: \"other\" },\r\n  ];\r\n\r\n  const [files, setFiles] = useState([]);\r\n  const [selectedAlbum, setSelectedAlbum] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSucess] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (obj) => {\r\n    setSelectedAlbum(obj.value);\r\n  };\r\n\r\n  // Handle File Upload\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      files.forEach(async (file) => {\r\n        try {\r\n          const formData = new FormData();\r\n          if (selectedAlbum === null) {\r\n            setError(\"please Select an Album\");\r\n          }\r\n\r\n          formData.append(\"documents\", file);\r\n          formData.append(\"album\", selectedAlbum);\r\n          const config = {\r\n            headers: {\r\n              \"content-type\": \"multipart/form-data\",\r\n            },\r\n          };\r\n\r\n          const res = await axios.put(\r\n            \"/photos\",\r\n            formData,\r\n            config\r\n          );\r\n          await setSucess(\r\n            res.data.message === \"OK\" ? \"File Uploaded SuccessFully\" : null\r\n          );\r\n          setTimeout(() => {\r\n            setSucess(null);\r\n          }, 5000);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          console.log(err.response.data);\r\n          setError(err.response.data.message);\r\n          setTimeout(() => {\r\n            setError(null);\r\n          }, 5000);\r\n\r\n          setLoading(false);\r\n        }\r\n      });\r\n    }, 3000);\r\n  };\r\n\r\n  // Get the list of files to Upload\r\n  const getFiles = async (files) => {\r\n    await setFiles(files);\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n      {error && <div className=\"alert alert-danger alerts\">{error}</div>}\r\n      {success && <div className=\"alert alert-success alerts\">{success}</div>}\r\n      <ImageDropZone getFiles={getFiles} />\r\n      <div\r\n        className=\"d-flex align-items-center justify-content-between\"\r\n        style={{ marginTop: \"100px\" }}\r\n      >\r\n        <div style={{ width: \"180px\" }}>\r\n          <Select\r\n            className=\"basic-single text-dark\"\r\n            classNamePrefix=\"select\"\r\n            defaultValue={albums[0]}\r\n            name=\"album\"\r\n            options={albums}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button\r\n            className=\"btn btn-default\"\r\n            type=\"submit\"\r\n            disabled={files.length < 1 ? true : false}\r\n          >\r\n            <VscCloudUpload />\r\n            &nbsp;{loading ? \"Uploading...\" : \"Upload\"} &nbsp;\r\n            {loading && (\r\n              <span>\r\n                <img src={loader} width=\"50\" style={{ opacity: \".7\" }} />\r\n              </span>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default UploadModal;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Card } from \"./components/card\";\nimport Header from \"./components/header\";\nimport Modal from \"react-modal\";\nimport { FaTimes } from \"react-icons/fa\";\nimport { ModalCard } from \"./components/card\";\nimport axios from \"axios\";\nimport UploadModal from \"./upload-modal\";\n\nconst modalStyles = {\n  overlay: {\n    position: \"fixed\",\n    backgroundColor: \"rgba(0, 0, 0, 0.75)\",\n  },\n  content: {\n    position: \"absolute\",\n    background: \"transparent\",\n    overflow: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    outline: \"none\",\n    border: \"none\",\n  },\n};\n\nfunction App() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [photos, setPhotos] = useState([]);\n  const [checkedPhotos, setCheckedPhotos] = useState([]);\n  const config = {\n    skip: 0,\n    limit: 16,\n  };\n  const fetchPhotos = async () => {\n    try {\n      const res = await axios.post(\"/photos/list\", config);\n      console.log(res.data.documents);\n      setPhotos(res.data.documents);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    fetchPhotos();\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <Header isOpen={isOpen} setIsOpen={setIsOpen} photos={photos} />\n      <div className=\"row mb-4 mx-auto\">\n        {photos.map((photo, index) => {\n          return (\n            <div className=\"col-md-3 col-sm-12 mb-4\" key={index}>\n              <Card\n                img={photo.raw}\n                album={photo.album}\n                img_name={photo.name.split(\"/\")[2]}\n                image_alt=\"kings\"\n                checkname={photo.id}\n                checkedValue={photo.id}\n              />\n            </div>\n          );\n        })}\n      </div>\n      {isOpen ? (\n        <Modal isOpen={isOpen} style={modalStyles}>\n          <ModalCard\n            title=\"Upload Photos\"\n            icon={<FaTimes size={20} />}\n            setIsOpen={setIsOpen}\n          >\n            <UploadModal />\n          </ModalCard>\n        </Modal>\n      ) : null}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"https://9a1413fa27d3.ngrok.io/\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}